2020-05-07 13:23:28,293 INFO o.s.t.c.s.AbstractTestContextBootstrapper [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-07 13:23:28,309 INFO o.s.t.c.s.AbstractTestContextBootstrapper [main] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@548d708a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4b013c76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53fb3dab, org.springframework.test.context.transaction.TransactionalTestExecutionListener@cb0755b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33065d67, org.springframework.test.context.event.EventPublishingTestExecutionListener@712625fd]
2020-05-07 13:23:28,826 INFO c.m.p.AppConfigTest [main] ....dataSource
2020-05-07 13:23:28,872 INFO o.s.j.d.e.EmbeddedDatabaseFactory [main] Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-05-07 13:23:29,256 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@3574e198, testMethod = loginShouldReturnNull@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,269 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,269 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,299 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@3574e198, testMethod = loginShouldReturnNull@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,306 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@41beb473, testMethod = addRelationByEmail@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,307 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,307 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,308 INFO c.m.p.s.MainServiceImpl [main] addRelationByEmail
2020-05-07 13:23:29,308 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,340 INFO c.m.p.s.MainServiceImpl [main] addRelationByEmail OK, nb relation : 1
2020-05-07 13:23:29,342 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@41beb473, testMethod = addRelationByEmail@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,346 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@49a64d82, testMethod = transferToAnotherAccountKOInsufficientFund@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,346 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,347 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,348 INFO c.m.p.s.MainServiceImpl [main] creditAccount
2020-05-07 13:23:29,348 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,350 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,353 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,353 INFO c.m.p.s.MainServiceImpl [main] creditAccount OK, nb operation  et nb update balance : 1/1
2020-05-07 13:23:29,353 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,355 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,356 INFO c.m.p.s.MainServiceImpl [main] transferToAnotherAccount
2020-05-07 13:23:29,356 INFO c.m.p.d.AcccountUserDaoImpl [main] getByEmail
2020-05-07 13:23:29,357 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,357 INFO c.m.p.d.RateDaoImpl [main] getRate
2020-05-07 13:23:29,360 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,360 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,360 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,362 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@49a64d82, testMethod = transferToAnotherAccountKOInsufficientFund@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,365 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@52d10fb8, testMethod = transferToAnotherAccountKORelationNotExists@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,367 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,367 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,367 INFO c.m.p.s.MainServiceImpl [main] creditAccount
2020-05-07 13:23:29,368 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,369 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,370 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,370 INFO c.m.p.s.MainServiceImpl [main] creditAccount OK, nb operation  et nb update balance : 1/1
2020-05-07 13:23:29,371 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,371 INFO c.m.p.s.MainServiceImpl [main] transferToAnotherAccount
2020-05-07 13:23:29,371 INFO c.m.p.d.AcccountUserDaoImpl [main] getByEmail
2020-05-07 13:23:29,372 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,373 INFO c.m.p.d.RateDaoImpl [main] getRate
2020-05-07 13:23:29,374 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,375 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@52d10fb8, testMethod = transferToAnotherAccountKORelationNotExists@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,378 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@324dcd31, testMethod = creditAcccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,380 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,380 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,381 INFO c.m.p.s.MainServiceImpl [main] creditAccount
2020-05-07 13:23:29,381 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,381 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,383 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,384 INFO c.m.p.s.MainServiceImpl [main] creditAccount OK, nb operation  et nb update balance : 1/1
2020-05-07 13:23:29,384 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,384 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@324dcd31, testMethod = creditAcccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,388 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@72bca894, testMethod = externalTransferAccountInsufficientFund@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,388 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,389 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,389 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,390 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,391 INFO c.m.p.s.MainServiceImpl [main] externalTransferAccount
2020-05-07 13:23:29,391 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,391 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,391 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,392 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@72bca894, testMethod = externalTransferAccountInsufficientFund@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,395 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@2575f671, testMethod = transferToAnotherAccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,396 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,396 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,398 INFO c.m.p.s.MainServiceImpl [main] creditAccount
2020-05-07 13:23:29,398 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,398 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,399 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,400 INFO c.m.p.s.MainServiceImpl [main] creditAccount OK, nb operation  et nb update balance : 1/1
2020-05-07 13:23:29,400 INFO c.m.p.s.MainServiceImpl [main] addRelationByEmail
2020-05-07 13:23:29,400 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,401 INFO c.m.p.s.MainServiceImpl [main] addRelationByEmail OK, nb relation : 1
2020-05-07 13:23:29,401 INFO c.m.p.s.MainServiceImpl [main] transferToAnotherAccount
2020-05-07 13:23:29,402 INFO c.m.p.d.AcccountUserDaoImpl [main] getByEmail
2020-05-07 13:23:29,402 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,403 INFO c.m.p.d.RateDaoImpl [main] getRate
2020-05-07 13:23:29,404 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,405 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,406 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,407 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,408 INFO c.m.p.s.MainServiceImpl [main] transferToAnotherAccount OK, nb operation  et nb update balance  Account et Relation: 1/1 :1/1
2020-05-07 13:23:29,409 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@2575f671, testMethod = transferToAnotherAccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,412 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@2d35442b, testMethod = addRelationByEmailShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,412 INFO c.m.p.s.MainServiceImpl [main] addRelationByEmail
2020-05-07 13:23:29,412 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,505 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@2d35442b, testMethod = addRelationByEmailShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,508 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@11963225, testMethod = login@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,508 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,509 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,510 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@11963225, testMethod = login@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,514 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@f325091, testMethod = externalTransferAccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,515 INFO c.m.p.s.MainServiceImpl [main] login
2020-05-07 13:23:29,515 INFO c.m.p.d.UserDaoImpl [main] getByEmail
2020-05-07 13:23:29,515 INFO c.m.p.s.MainServiceImpl [main] externalTransferAccount
2020-05-07 13:23:29,515 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,516 INFO c.m.p.d.OperationDaoImpl [main] createOperation
2020-05-07 13:23:29,516 INFO c.m.p.d.AcccountDaoImpl [main] updateBalance
2020-05-07 13:23:29,517 INFO c.m.p.s.MainServiceImpl [main] externalTransferAccount OK, nb operation  et nb update balance : 1/1
2020-05-07 13:23:29,518 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@f325091, testMethod = externalTransferAccount@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,521 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@77b325b3, testMethod = externalTransferAccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,522 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,522 INFO c.m.p.s.MainServiceImpl [main] externalTransferAccount
2020-05-07 13:23:29,522 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,522 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId : EmptyResultDataAccessException
2020-05-07 13:23:29,523 INFO c.m.p.d.OperationDaoImpl [main] getOperationForBilling
2020-05-07 13:23:29,524 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@77b325b3, testMethod = externalTransferAccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,527 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@7e8e8651, testMethod = transferToAnotherAccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,528 INFO c.m.p.s.MainServiceImpl [main] transferToAnotherAccount
2020-05-07 13:23:29,528 INFO c.m.p.d.AcccountUserDaoImpl [main] getByEmail
2020-05-07 13:23:29,529 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,530 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId : EmptyResultDataAccessException
2020-05-07 13:23:29,531 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@7e8e8651, testMethod = transferToAnotherAccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,533 INFO o.s.t.c.t.TransactionContext [main] Began transaction (1) for test context [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@271f18d3, testMethod = creditAcccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@db44aa2]; rollback [true]
2020-05-07 13:23:29,534 INFO c.m.p.s.MainServiceImpl [main] creditAccount
2020-05-07 13:23:29,534 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId
2020-05-07 13:23:29,535 INFO c.m.p.d.AcccountUserDaoImpl [main] getByUserId : EmptyResultDataAccessException
2020-05-07 13:23:29,536 INFO o.s.t.c.t.TransactionContext [main] Rolled back transaction for test: [DefaultTestContext@27e0f2f5 testClass = MainServiceIntgTest, testInstance = com.mybuddy.pay.service.MainServiceIntgTest@271f18d3, testMethod = creditAcccountShouldReturnException@MainServiceIntgTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6db66836 testClass = MainServiceIntgTest, locations = '{}', classes = '{class com.mybuddy.pay.AppConfigTest}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]
2020-05-07 13:23:29,544 INFO o.s.j.d.e.EmbeddedDatabaseFactory [SpringContextShutdownHook] Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
